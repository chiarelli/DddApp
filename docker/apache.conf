<VirtualHost *:80>
    ServerName localhost
    ServerAdmin webmaster@localhost

    # DocumentRoot deve apontar para a pasta web do Yii dentro do workspace
    DocumentRoot /var/www/html/src/Infrastructure/Yii/web

    <Directory /var/www/html/src/Infrastructure/Yii/web>
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted

        # Habilita rewrite no diret칩rio (redundante se mod_rewrite estiver ativado globalmente)
        <IfModule mod_rewrite.c>
            RewriteEngine On
            # Se o arquivo/diret칩rio existir, serve diretamente
            RewriteCond %{REQUEST_FILENAME} -f [OR]
            RewriteCond %{REQUEST_FILENAME} -d
            RewriteRule ^ - [L]

            # Caso contr치rio, encaminha para index.php (Yii tratar치 a rota)
            RewriteRule ^ index.php [L,QSA]
        </IfModule>
    </Directory>

    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined
</VirtualHost>